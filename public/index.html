<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historia RJ</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>

    <div class="container">
        <div id="login-screen" class="screen">
            <h1>üè∞ Familia RJ</h1>
            <p>Selecciona tu nombre:</p>
            <select id="player-select"><option value="">Cargando...</option></select>
            <input type="password" id="password-input" placeholder="Contrase√±a">
            <button onclick="login()">Entrar</button>
        </div>

        <div id="menu-screen" class="screen hidden">
            <h2 id="welcome-msg">Hola</h2>
            
            <div class="toggle-container">
                <span class="toggle-label">Modo Normal</span>
                <label class="switch">
                    <input type="checkbox" id="mode-junior">
                    <span class="slider round"></span>
                </label>
                <span class="toggle-label">‚≠ê Modo Junior</span>
            </div>

            <div class="menu-grid">
                <button class="btn-main" onclick="showScreen('add-event-screen'); resetEventForm();">üì∏ A√±adir Recuerdo</button>
                <button class="btn-main" onclick="setupGame('solo')">üß© Jugar Solo</button>
                <button class="btn-main" onclick="enterDuelLobby()">‚öîÔ∏è Sala de Duelos</button> 
                <button class="btn-main" onclick="showHallOfFame()">üèÜ Clasificaci√≥n</button>
                <button class="btn-grey" onclick="showAdmin()">‚öôÔ∏è Admin</button>
            </div>
        </div>

        <div id="add-event-screen" class="screen hidden">
            <h3 id="form-title">Nuevo Recuerdo</h3>
            <input type="hidden" id="evt-id">
            <input type="text" id="evt-title" placeholder="T√≠tulo (ej: Nace Pablo)">
            <input type="number" id="evt-year" placeholder="A√±o (ej: 2018)">
            
            <label style="display:block; text-align:left; margin-top:10px; font-weight:bold;">Dificultad:</label>
            <select id="evt-difficulty">
                <option value="normal">Normal (Adultos)</option>
                <option value="easy">‚≠ê Junior (F√°cil)</option>
            </select>

            <input type="text" id="evt-date" placeholder="Fecha exacta (dd/mm/aaaa) - Opcional">
            <input type="file" id="evt-photo" accept="image/*">
            
            <button class="btn-green" onclick="uploadEvent()">Guardar</button>
            <button class="btn-red" onclick="showScreen('menu-screen')">Cancelar</button>
        </div>

        <div id="game-screen" class="screen hidden">
            <h3 id="game-mode-title">Ordena los eventos</h3>
            <div id="cards-container"></div>
            <button class="btn-green" onclick="checkOrder()">¬°Comprobar Orden!</button>
            <button class="btn-red" onclick="showScreen('menu-screen')">Abandonar</button>
        </div>

        <div id="hof-screen" class="screen hidden">
            <h3>üèÜ Clasificaci√≥n</h3>
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('weekly')">Semanal</button>
                <button class="tab-btn" onclick="switchTab('total')">Hist√≥rico</button>
            </div>
            <div id="hof-list"></div>
            <button class="btn-red" onclick="showScreen('menu-screen')">Volver</button>
        </div>

        <div id="admin-screen" class="screen hidden">
            <h3>‚öôÔ∏è Administraci√≥n</h3>
            <div class="admin-section">
                <h4>Gestionar Recuerdos</h4>
                <div id="admin-events-list" class="scroll-list"></div>
            </div>
            <div class="admin-section">
                <h4>Gestionar Puntos</h4>
                <button class="btn-red small" onclick="resetWeekly()">üîÑ Reiniciar Semanal</button>
                <button class="btn-red small" onclick="resetTotal()">‚ö†Ô∏è Reiniciar HIST√ìRICO</button>
            </div>
            <button class="btn-main" onclick="showScreen('menu-screen')">Volver</button>
        </div>
        
        <div id="lobby-screen" class="screen hidden">
            <h3>‚öîÔ∏è Sala de Duelos</h3>
            <p>Esperando rivales...</p>
            <div id="lobby-players-list" style="margin: 20px; font-weight: bold;"></div>
            <select id="lobby-difficulty">
                <option value="normal">Normal</option>
                <option value="easy">‚≠ê Modo Junior</option>
            </select>
            <button class="btn-green" onclick="startMultiDuel()">¬°EMPEZAR!</button>
            <button class="btn-red" onclick="leaveLobby()">Salir</button>
        </div>

    </div>
    <script src="script.js"></script>
</body>
</html>